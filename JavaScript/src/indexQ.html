<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <div class="row">
        </div>
      </div>

      <script>
      //상품 데이터
        var products = [
          { id : 0, price : 70000, title : 'Blossom Dress' },
          { id : 1, price : 50000, title : 'Springfield Shirt' },
          { id : 2, price : 60000, title : 'Black Monastery' }
        ];
      </script> 

      <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"></script>

      <script>
        //상품 카드 생성 
        showProucts(products);

        function showProucts(prod){
          prod.forEach(function(data){
          temp=`<div class="col-sm-4">
              <img src="https://via.placeholder.com/600" class="w-100">
              <h5>${data.title}</h5>
              <p>가격 : ${data.price}</p>
              <button class="buy">구매</button>
            </div>`
        $('.row').append(temp);
        })}
      </script>

      <script>
        localStorage.removeItem('cart');
        var count=[0,0,0]
        $('.buy').click(function(){
        var item=$(this).siblings('h5').text();
        if(localStorage.getItem("cart") == null){
            localStorage.setItem('cart', JSON.stringify([item]));
        }
        else{
            var itemArr=JSON.parse(localStorage.cart);
            if (itemArr.includes(item)){
                alert('이미 추가한 상품입니다');
            }
            else{
                itemArr.push(item);
                localStorage.setItem('cart', JSON.stringify(itemArr));
            }
        }
    })
   
      </script>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>